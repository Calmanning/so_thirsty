{{>navbar}}

<div class="grid-container grid-container-margin">
  <div class="grid-x grid-x-margin">
    <div class="cell medium-12">
      <h1>{{dataValues.nickname}}</h1>
      <h3>{{#if dataValues.isWatered}}I have enough water. {{else}}I need water! {{/if}}</h3>
    </div>
  </div>

  <div class="grid-x grid-x-margin">
    <div class="cell medium-3">
      <img src="{{dataValues.Photos.[0].dataValues.url}}" style="width: 100" alt="" {{#if
        dataValues.isWatered}}class="is-watered" {{else}}class="img not-watered" {{/if}}>
    </div>
    <div class="cell medium-9" style="padding-left: 25px;">
      <p>
        <strong>Nickname: </strong><span id="nicknameText">{{dataValues.nickname}}</span>
        <input class="hiddenElement" id="nickname" name="nickname" value="{{dataValues.nickname}}">
        <button class="btn hiddenElement" id="saveName" value={{dataValues.id}}>Save</button>
        <i class="far fa-edit editNickname"></i>
      </p>
      <p>
        <strong>Common Name: </strong> {{dataValues.commonName}}
      </p>
      <p>
        <strong>Scientific Name: </strong>{{dataValues.scientificName}}
      </p>
      <p>
        <strong>Last Watered: </strong>{{dataValues.lastWatered}}
      </p>
      <p>
        <strong>Water every {{dataValues.waterFrequency}} days.</strong>

        <span class="hiddenElement" id="hideInput">
          <input type="number" id="waterDays" name="watering" value={{dataValues.waterFrequency}}>
          <button class="btn hiddenElement" id="saveWater" value={{dataValues.id}}>Save</button>
        </span>


        <i class="far fa-edit editWater"></i>
      </p>
      <p>
        <strong>Next water Due: </strong>{{dataValues.waterDue}}
      </p>
      <p>
        <strong>Notes &amp; Care: </strong>
        {{dataValues.notes}}
        <textarea class="hiddenElement" id="plantText" name="notes" rows="4" cols="50">
          {{dataValues.notes}}
        </textarea>
        <button class="btn hiddenElement" id="saveNotes" value={{dataValues.id}}>Save</button>
        <i class="far fa-edit editNotes"></i>
      </p>
      <p>
        <strong>Created: </strong> {{dataValues.createdAt}}
      </p>
        <button class="btn editWater">Edit</button>
        <button class="btn hiddenElement" id="saveWater" value={{dataValues.id}}>Save</button>
      </div>


      <div class="callout small">
        <h5><a href="/{{{dataValues.User.dataValues.userName}}}/plant/{{{dataValues.id}}}/addphoto">Add photo</a></h5>
      </div>


      <p><button class="btn" data-open="deleteBtnModal">Remove this plant?</button></p>

      <div class="reveal" id="deleteBtnModal" data-reveal>
        <h5>WAIT JUST ONE MINUTE!</h5>
        <p>Are you sure you want to remove this plant from your profile?</p>
        <button class="btn delete-btn" id="deleteBtn" value={{dataValues.id}}>Yes, remove
          it!</button>
      </div>


    </div>
  </div>
</div>


<i class="fas fa-shower fa-9x wateredBtn" value={{dataValues.id}}></i>

{{#if dataValues.Photos}}

<div class="grid-container grid-container-margin">
  <div class="grid-x grid-x-margin">

    {{#each dataValues.Photos}}
    <div class="cell medium-3">
      <img src="{{dataValues.url}}" style="width: 200px" alt="" {{#if ../dataValues.isWatered}}class="img is-watered"
        {{else}}class="img not-watered" {{/if}}>
    </div>
    {{/each}}
    <div class="cell medium-3">    
      <a href="/{{{dataValues.User.dataValues.userName}}}/plant/{{{dataValues.id}}}/addphoto">
        <i class="fas fa-cloud-upload-alt fa-9x" title="Upload a photo!"></i>
      </a>
    </div>
  </div>
</div>

{{else}}

<div class="grid-container grid-container-margin">
  <div class="grid-x grid-x-margin">

    <div class="cell medium-3">
      <img src="/assets/images/Potted Plant1.jpg" {{#if ../dataValues.isWatered}}class="img is-watered"
          {{else}}class="img not-watered" {{/if}}>
    </div>
    <div class="cell medium-3">    
      <a href="/{{{dataValues.User.dataValues.userName}}}/plant/{{{dataValues.id}}}/addphoto">
        <i class="fas fa-cloud-upload-alt fa-9x" title="Upload a photo!"></i>
      </a>
    </div>
  </div>
</div>

{{/if}}

<button class="btn delete-btn" id="deleteBtn" value={{dataValues.id}}>Delete plant?</button>

